%---------------
\chapter{Result}
%---------------
This chapter presents our results from the different project tasks, and
parsing input files. For task 1 and 2 we only present a subset of the results.


\section{Preprocessing and parsing}
%----------------------------------
The results of parsing the different input files can be seen in
\autoref{tab:objects}. Each code, chapter and case is stored in an object,
and saved to JSON files.
\begin{table}[htbp] \footnotesize \center
\caption{Parsed object counts\label{tab:objects}}
\begin{tabular}{l r}
    \toprule
    Type & Count \\
    \midrule
	ATC codes & 7945 \\
	ICD10 codes & 10521 \\
	Patient cases & 8 \\
	Therapy chapters & 917 \\
	\bottomrule
\end{tabular}
\end{table}

\autoref{tab:chapters} contains statistics showing the results of parsing
``Norsk legemiddelhåndbok'' HTML files --- therapy chapters. The statistics
lists the amount of chapters, in total and with text, for each of the
different chapter types --- from chapter to subsubsubsubchapter.
%Total amount of lines '\n': 3034
%Total amount of sentences '.': 24924
\begin{table}[htbp] \footnotesize \center
\caption{Norsk legemiddelhåndbok statistics\label{tab:chapters}}
\begin{tabular}{l r r}
    \toprule
    Chapter type & Count & With text \\
    \midrule
	Chapter & 24 & 24 \\
	Subchapter & 153 & 104 \\
	Subsubchapter & 384 & 336 \\
	Subsubsubchapter & 329 & 326 \\
	Subsubsubsubchapter & 27 & 27 \\
    \midrule
	Total & 917 & 817 \\
	\bottomrule
\end{tabular}
\end{table}

Parsing of patient cases are summarized in \autoref{tab:cases}. Stopwords
refers to stopwords in the case text which have been removed, terms is the
number of unqiue terms (words) in the text.
\begin{table}[htbp] \footnotesize \center
\caption{Patient cases statistics\label{tab:cases}}
\begin{tabular}{c r r r r}
    \toprule
	Case \# & Lines & Stopwords & Terms & Medical terms \\
    \midrule
	1 & 13 & 1 & 55 & 10 \\
	2 & 22 & 1 & 169 & 24 \\
	3 & 17 & 0 & 125 & 30 \\
	4 & 6 & 1 & 49 & 4 \\
	5 & 11 & 2 & 63 & 14 \\
	6 & 7 & 0 & 41 & 9 \\
	7 & 20 & 2 & 123 & 29 \\
	8 & 12 & 0 & 90 & 19 \\
    \midrule
	Total & 108 & 7 & 715 & 125 \\
	\bottomrule
\end{tabular}
\end{table}

We store input data and results in JSON format, so we can work with them
without having to parse or produce them first. To demonstrate the
effectiveness of this method we list and compare the time (in seconds) it
takes to parse input data and loading JSON files in \autoref{tab:times}.
\begin{table}[htbp] \footnotesize \center
\caption{Comparing effectivenes of JSON\label{tab:times}}
\begin{tabular}{l r r c}
    \toprule
    Type & Parse time & JSON load time & Speedup \\
    \midrule
	ATC codes & 0.209 & 0.101 & 52\% \\
	ICD10 codes & 9.496 & 0.549 & 94\% \\
	Patient cases & 0.008 & 0.001 & 88\% \\
	Therapy chapters & 11.326 & 0.177 & 98\% \\
	\bottomrule
\end{tabular}
\end{table}


\section{Task 1: Autocoding ICD-10}
%----------------------------------
Results for task 1 A (patient case 1, 4, 5, and 6) can be seen in
\autoref{tab:task1a}, which list relevant ICD-10 codes for each sentence.
\autoref{tab:task1b} list results for task 1 B (therapy chapter T1.1.1, T5.5,
T8.9.2 and T24.2.1.7). Results for both method A and method B is listed next
to each other for easy comparison.
\begin{table}[htbp] \footnotesize \center
\caption{Task 1 A, patient case 1, 4, 5 and 6\label{tab:task1a}}
\begin{tabular}{c c l l}
    \toprule
    Clinical note & Sentence & Method A & Method B \\
    \midrule
	1 & 1 & E10-E14 & E12, E10-E14, E14 \\
	 & 2 & E10-E14, E23.2 & E14 \\
	 & 3 & Y61.3 & Y61.3, Y62.3, Y60.3 \\
	 & 4 & Q02, P92.3 & P92.3 \\
	 & 5 & Z97.2, Q26.3 & Z97.2 \\
	 & 6 & . & E10-E14 \\
	 & 7 & . & . \\
	 & 8 & . & . \\
	 & 9 & O36.6 & P03.5 \\
	 & 10 & . & L85.3 \\
	 & 11 & . & . \\
	 & 12 & Z01.3 & Z34 \\
	 & 13 & Z38.1, Z38.0, Z38.3 & Y87.2 \\
	\addlinespace
	4 & 1 & O96 & M08, O96, R06.2 \\
	 & 2 & O33 & Q38.4 \\
	 & 3 & P92.4 & Z58.6 \\
	 & 4 & R96.0, N88.1, H91.2 & H91.2, M23.2 \\
	 & 5 & I20 & I20.1, I20 \\
	 & 6 & O84.0 & O84.0 \\
	\addlinespace
	5 & 1 & O26.2, N88.1 & O26.2, N91.1, N91.4 \\
	 & 2 & R15, R19.5 & R19.5, R19.4 \\
	 & 3 & Y65.0 & C77.8 \\
	 & 4 & O46.9 & . \\
	 & 5 & D83 & D83 \\
	 & 6 & S63.1 & S60.0 \\
	 & 7 & I84.3 & H60.0 \\
	 & 8 & C86.6 & R85 \\
	 & 9 & Q56.4, Q56, F70 & Q56, D57.3, M93.9 \\
	 & 10 & D80.6 & D80.6 \\
	 & 11 & Y61.4, Y62.4, Y60.4 & Y61.4, Y62.4, Y60.4 \\
	\addlinespace
	6 & 1 & R98, R59 & R98, R59.9, R59.0 \\
	 & 2 & R76.2 & R76.2 \\
	 & 3 & . & B90.9 \\
	 & 4 & D83, U80.0 & U80 \\
	 & 5 & E59, E58, E60 & U80 \\
	 & 6 & Y84.4 & P24.3 \\
	 & 7 & G81.0, G82.3, G82.0 & G81.0, G82.3, G82.0 \\
	\bottomrule
\end{tabular}
\end{table}

\begin{table}[htbp] \footnotesize \center
\caption{Task 1 B, chapter T1.1.1, T5.5, T8.9.2 and T24.2.1.7\label{tab:task1b}}
\begin{tabular}{c c l l}
    \toprule
    Chapter & Sentence & Method A & Method B \\
    \midrule
	T1.1.1 & 1 & B01, B01.9, B01.8 & B01.9, B01, B01.8 \\
	 & 2 & Z20, Z20.8, Z20.9 & A88.0, Z20, Z20.0 \\
	 & 3 & B01, B01.9, B01.8 & B01.9, B02.9, B02.8 \\
	 & 4 & C21.2 & O69.8 \\
	 & 5 & Q90.2 & C92.5 \\
	 & 6 & N92.4 & Z00.2 \\
	 & 7 & R00-R99 & R00-R99 \\
	 & 8 & P36.2 & A41.0, B95.6, G11.9 \\
	 & 9 & G11.1 & B01.2†, G11.1, G11.9 \\
	 & 10 & B01 & B01, B01.9, B01.8 \\
	\addlinespace
	T5.5 & 1 & F68.0, Z53.8, Z41.9 & R19.6 \\
	 & 2 & U00-U49, Z31.5, Q95.4 & Z90.5, U00-U49, I25.2 \\
	 & 3 & F32.8 & F33, F32.8 \\
	 & 4 & F51.2 & R41.8, R41, E23 \\
	 & 5 & F41.0, F32.3, F32.2 & F32.2, F32.3, F33.2 \\
	 & 6 & F31.3 & F33.3, F33.2 \\
	 & 7 & F31.8 & R70.0, F52, I51 \\
	 & 8 & F31.4, F31.5 & F33.3 \\
	 & 9 & Z34.9, Q97.1, F32.8 & Z34.9, O84.0 \\
	 & 10 & Z29, Z29.9 & F33.3, F31.8, Z29 \\
	 & 11 & O15.9 & Y4N \\
	 & 12 & Z55.0 & R45.4, R19.6, R46.0 \\
	 & 13 & P91.4, F20.4 & F60-F69 \\
	\addlinespace
	T8.9.2 & 1 & O42.1, O42.0 & O02.9, O02.8, G45.9 \\
	 & 2 & O96, Z00.8, I63 & O96, I63.3 \\
	 & 3 & G45.9, J46 & A50.0 \\
	 & 4 & Z00, A52.2, I48 & Z00, Z92.2, Z03 \\
	 & 5 & B20-B24 & I67, I68.0 *, I67.8 \\
	\addlinespace
	T24.2.1.7 & 1 & Z56.6 & F43 \\
	 & 2 & K59.1, O34, O35 & I22 \\
	 & 3 & I20 & I20.0, I20.1, I22 \\
	 & 4 & P08.0, Y61.3, Y62.3 & Y61.3, Y62.3, Y60.3 \\
	 & 5 & O63, P92.5, L21.1 & O63, R68.1, U00-U99 \\
	 & 6 & J46, I20, I20.0 & I20.0, I44.1 \\
	 & 7 & O42.1, O42.0 & F51.2, R96.1, F20.6 \\
	 & 8 & O42.1, O42.0, Z39.0 & T80.1, T80.2, T80 \\
	 & 9 & T32.3 & Z53 \\
	\bottomrule
\end{tabular}
\end{table}


\section{Task 2: Autocoding ATC}
%-------------------------------


\section{Task 3}
%---------------


\section{Task 4}
%---------------


\section{Task 5}
%---------------


\section{Task 6}
%---------------


\section{Task 7}
%---------------


